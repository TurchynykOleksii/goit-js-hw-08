{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,SAAUF,SAASC,cAAc,2BACjCE,MAAOH,SAASC,cAAc,UAE1BG,EAAW,IAoBjB,WACE,MAAMC,EAAeC,KAAKC,MAAMC,aAAaC,QA5B3B,wBA8BlB,GAAqB,OAAjBJ,EACF,OAEFP,EAAKI,SAASQ,MAAQL,EAAsB,SAAK,GACjDP,EAAKK,MAAMO,MAAQL,EAAoB,OAAK,E,CAzB9CM,GAEAb,EAAKC,KAAKa,iBAAiB,SAAS,EAAAhB,EAAAiB,WAUpC,SAAyBC,GACvBV,EAASU,EAAEC,OAAOC,MAAQF,EAAEC,OAAOL,MACnC,MAAMO,EAAkBX,KAAKY,UAAUd,GACvCI,aAAaW,QAxBK,sBAwBgBF,E,GAb0B,MAE9DnB,EAAKC,KAAKa,iBAAiB,UAAUE,IACnCA,EAAEM,iBACFN,EAAEO,cAAcC,QAEAhB,KAAKC,MAAMC,aAAaC,QAjBtB,wBAkBlBD,aAAae,WAlBK,sBAkBkB","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  textarea: document.querySelector('.feedback-form textarea'),\n  input: document.querySelector('input'),\n};\nconst formData = {};\n\npopulateTextarea();\n\nrefs.form.addEventListener('input', throttle(onTextareaInput, 500));\n\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n  e.currentTarget.reset();\n\n  const objData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  localStorage.removeItem(STORAGE_KEY);\n});\n\nfunction onTextareaInput(e) {\n  formData[e.target.name] = e.target.value;\n  const stringifiedData = JSON.stringify(formData);\n  localStorage.setItem(STORAGE_KEY, stringifiedData);\n}\n\nfunction populateTextarea() {\n  const savedMessage = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  if (savedMessage === null) {\n    return;\n  }\n  refs.textarea.value = savedMessage['message'] || '';\n  refs.input.value = savedMessage['email'] || '';\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","form","document","querySelector","textarea","input","$945622fd0f572e60$var$formData","savedMessage","JSON","parse","localStorage","getItem","value","$945622fd0f572e60$var$populateTextarea","addEventListener","throttle","e","target","name","stringifiedData","stringify","setItem","preventDefault","currentTarget","reset","removeItem"],"version":3,"file":"03-feedback.542697cd.js.map"}